
include "../common.conf"

environment = "development"

spark {
  master = "local[*]"

  executor {
    memory = "2g"
    cores = 2
    instances = 1
  }

  driver {
    memory = "1g"
    max-result-size = "1g"
  }

  dynamic-allocation {
    enabled = false
    min-executors = 1
    max-executors = 4
    initial-executors = 2
  }

  sql {
    shuffle-partitions = 8
    adaptive {
      advisory-partition-size = "64MB"
    }
  }

  ui {
    enabled = true
    port = 4040
    retain-tasks = 1000
    retain-stages = 1000
  }

  eventLog {
    enabled = true
    dir = "/tmp/spark-events-dev"
    compress = false
  }

  # Development-specific settings
  debug {
    max-to-string-fields = 100
  }
}

database {
  host = "localhost"
  port = 5432
  name = "smartstar_dev"
  username = "dev_user"
  password = "dev_password"
  ssl = false
  connection-pool-size = 5
}

kafka {
  bootstrap-servers = "localhost:9092"
  group-id = ${kafka.group-id-prefix}"-dev"

  consumer {
    max-poll-records = 500
    group-instance-id = ${?HOSTNAME}
  }

  producer {
    batch-size = 16384
    linger-ms = 1
  }
}

storage {
  base-path = "/tmp/smartstar/dev"

  # Development-specific paths
  paths {
    logs = "/tmp/smartstar/dev/logs"
    debug = "/tmp/smartstar/dev/debug"
  }
}

monitoring {
  logging {
    level = "DEBUG"

    # More verbose logging in development
    loggers {
      "com.smartstar" = "DEBUG"
      "org.apache.spark.sql" = "INFO"
    }
  }
}
